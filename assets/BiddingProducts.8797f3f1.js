import{a as _,ar as B,S as h,ag as V,as as w,o as d,c as p,w as a,d as t,k as x,Y as A,ah as g,at as k,b as n,aj as o,ai as c,au as S,i as C,a3 as E,ak as P,l as y,V as $,f as u,al as j,am as N,X as I,e as O,an as R,ao as T}from"./index.c2e833b5.js";const q={class:"pre"},z=n("h1",null,"\u7AF6\u6A19+10",-1),D={data(){return{bidAmount:0,newBidAmount:0,s:1e3}},mounted(){setInterval(()=>{this.s>=0?this.s--:this.s===0&&this.s--},1e3)}},F=Object.assign(D,{__name:"BiddingProducts",props:{_id:{type:String,default:""},name:{type:String,default:""},time:{type:Number,default:10},price:{type:Number,default:0},description:{type:String,default:""},image:{type:String,default:""},sell:{type:Boolean,default:!1},category:{type:String,default:""}},setup(s){const l=_([]);(async()=>{try{const{data:e}=await B.get("/users/bidcart");l.push(...e.result)}catch{h.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u7AF6\u6A19\u5931\u6557"})}})();const r=V(),{editbidcart:i}=r;return(e,f)=>{const b=w("router-link");return d(),p(P,{"open-delay":"200"},{default:a(({isHovering:m,props:v})=>[t(x,A({class:["v-card-card",{"on-hover":m}],elevation:m?16:2},v,{width:"650"}),{default:a(()=>[t(g,{src:s.image,"ratio:1":"",cover:"cover",height:"30vw"},null,8,["src"]),t(k,null,{default:a(()=>[t(b,{class:"text-decoration-none text-primary product-title",to:"/biddings/"+s._id},{default:a(()=>[n("h1",null,o(s.name),1)]),_:1},8,["to"])]),_:1}),t(c,{class:"text-left"},{default:a(()=>[n("h3",q,o(s.description),1)]),_:1}),t(c,{class:"text-center"},{default:a(()=>[n("h1",null,"\u8D77\u6A19\u50F9\u683C:$"+o(s.price),1)]),_:1}),t(c,{class:"text-center"},{default:a(()=>[n("h3",null,"\u5269\u9918\u6642\u9593:"+o(e.s)+"\u79D2",1)]),_:1}),t(S,null,{default:a(()=>[t(C,{class:"v-btnbt","text-center":"",block:"",elevation:"5",variant:"flat",color:"primary",large:"","prepend-icon":"mdi-currency-usd",onClick:f[0]||(f[0]=X=>E(i)({_id:s._id,bidprice:10}))},{default:a(()=>[z]),_:1})]),_:1})]),_:2},1040,["elevation","class"])]),_:1})}}}),L={id:"bid"},U={data(){return{s:"https://res.cloudinary.com/dgf0jyslt/image/upload/v1677052481/%E7%AB%B6%E6%A8%99%E5%95%86%E5%93%81_wrqppl.png"}},methods:{placeBid(){y.post("biddings",{amount:this.newBidAmount}).then(s=>{this.bidAmount=s.data.bidAmount,this.newBidAmount=0}).catch(s=>{console.error(s)})}}},G=Object.assign(U,{__name:"BiddingProducts",setup(s){const l=_([]);return(async()=>{var r,i;try{const{data:e}=await y.get("/biddings");l.push(...e.result)}catch(e){h.fire({icon:"error",title:"\u5931\u6557",text:((i=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:i.message)||"\u767C\u751F\u932F\u8AA4"})}})(),(r,i)=>(d(),p($,{id:"app"},{default:a(()=>[n("div",L,[t(u,{cols:"8",class:"m-a"},{default:a(()=>[t(g,{src:r.s},null,8,["src"])]),_:1}),t(O,null,{default:a(()=>[t(u,{cols:"8"}),(d(!0),j(I,null,N(l,e=>(d(),p(u,{key:e._id,cols:"12"},{default:a(()=>[t(F,R(T(e)),null,16)]),_:2},1024))),128))]),_:1})])]),_:1}))}});export{G as default};
