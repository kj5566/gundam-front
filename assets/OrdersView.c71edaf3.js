import{a as h,ar as m,S as f,o as r,c as V,w as l,V as y,b as t,d as s,e as c,al as o,am as _,W as p,j as w,aj as i}from"./index.b84716e4.js";import{V as x}from"./VDivider.c9724616.js";import{V as k}from"./VTable.19ad7d7b.js";const D={id:"orders",class:"m-a"},b=t("h1",{class:"text-center h1-title m-a"},"\u8A02\u55AE",-1),g=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u65E5\u671F"),t("th",null,"\u91D1\u984D"),t("th",null,"\u5546\u54C1")])],-1),B=t("h1",{class:"text-center tfoot"},[t("br")],-1),A={__name:"OrdersView",setup(S){const d=h([]);return(async()=>{try{const{data:u}=await m.get("/orders");d.push(...u.result.map(n=>(n.totalPrice=n.products.reduce((e,a)=>e+a.p_id.price*a.quantity,0),n)))}catch{f.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(u,n)=>(r(),V(y,{id:"app"},{default:l(()=>[t("div",D,[s(w,null,{default:l(()=>[s(c,{cols:"12"},{default:l(()=>[b]),_:1}),s(x),s(c,{cols:"12"},{default:l(()=>[s(k,null,{default:l(()=>[g,t("tbody",null,[(r(!0),o(p,null,_(d,e=>(r(),o("tr",{key:e._id},[t("td",null,i(e._id),1),t("td",null,i(new Date(e.date).toLocaleDateString()),1),t("td",null,i(e.totalPrice),1),t("td",null,[t("ul",null,[(r(!0),o(p,null,_(e.products,a=>(r(),o("li",{key:a._id},i(a.quantity+" \u500B "+a.p_id.name),1))),128))])])]))),128))])]),_:1})]),_:1}),s(c,{cols:"12"},{default:l(()=>[B]),_:1})]),_:1})])]),_:1}))}};export{A as default};
