import{m as X,d as f,Y as F,a_ as z,P as I,bt as oe,Q as G,bu as le,N as ie,G as re,q as Y,r as C,aB as se,t as V,n as W,bh as ue,ae as N,aa as ce,s as k,a6 as de,a5 as fe,ab as ve,X as H,U as M,ac as me,bv as ge,af as he,O as xe,aP as ye}from"./index.47d93037.js";import{m as pe,u as Ve,f as be,V as we}from"./VOverlay.e6a7605f.js";import{f as j,a as Pe,b as Ce,u as Fe,d as Se,e as Ee,g as $e,h as Be,i as Ie}from"./VTextField.99b56900.js";const ke=X({name:"VDialogTransition",props:{target:Object},setup(e,g){let{slots:n}=g;const d={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,a){var i;await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),t.style.visibility="";const{x:r,y:l,sx:c,sy:v,speed:s}=L(e.target,t),m=I(t,[{transform:`translate(${r}px, ${l}px) scale(${c}, ${v})`,opacity:0},{transform:""}],{duration:225*s,easing:oe});(i=U(t))==null||i.forEach(u=>{I(u,[{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*s,easing:G})}),m.finished.then(()=>a())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,a){var i;await new Promise(u=>requestAnimationFrame(u));const{x:r,y:l,sx:c,sy:v,speed:s}=L(e.target,t);I(t,[{transform:""},{transform:`translate(${r}px, ${l}px) scale(${c}, ${v})`,opacity:0}],{duration:125*s,easing:le}).finished.then(()=>a()),(i=U(t))==null||i.forEach(u=>{I(u,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*s,easing:G})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?f(z,F({name:"dialog-transition"},d,{css:!1}),n):f(z,{name:"dialog-transition"},n)}});function U(e){var g;const n=(g=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:g.children;return n&&[...n]}function L(e,g){const n=e.getBoundingClientRect(),d=ie(g),[t,a]=getComputedStyle(g).transformOrigin.split(" ").map(R=>parseFloat(R)),[i,r]=getComputedStyle(g).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;i==="left"||r==="left"?l-=n.width/2:(i==="right"||r==="right")&&(l+=n.width/2);let c=n.top+n.height/2;i==="top"||r==="top"?c-=n.height/2:(i==="bottom"||r==="bottom")&&(c+=n.height/2);const v=n.width/d.width,s=n.height/d.height,m=Math.max(1,v,s),u=v/m||0,b=s/m||0,h=d.width*d.height/(window.innerWidth*window.innerHeight),E=h>.12?Math.min(1.5,(h-.12)*10+1):1;return{x:l-(t+d.left),y:c-(a+d.top),sx:u,sy:b,speed:E}}const Te=re()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...pe({origin:"center center",scrollStrategy:"block",transition:{component:ke},zIndex:2400})},emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:n}=g;const d=Y(e,"modelValue"),{scopeId:t}=Ve(),a=C();function i(r){var l,c;const v=r.relatedTarget,s=r.target;if(v!==s&&(l=a.value)!=null&&l.contentEl&&(c=a.value)!=null&&c.globalTop&&![document,a.value.contentEl].includes(s)&&!a.value.contentEl.contains(s)){const m=[...a.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(h=>!h.hasAttribute("disabled")&&!h.matches('[tabindex="-1"]'));if(!m.length)return;const u=m[0],b=m[m.length-1];v===u?b.focus():u.focus()}}return se&&V(()=>d.value&&e.retainFocus,r=>{r?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0}),V(d,async r=>{if(await N(),r){var l;(l=a.value.contentEl)==null||l.focus({preventScroll:!0})}else{var c;(c=a.value.activatorEl)==null||c.focus({preventScroll:!0})}}),W(()=>{const[r]=be(e);return f(we,F({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}]},r,{modelValue:d.value,"onUpdate:modelValue":l=>d.value=l,"aria-role":"dialog","aria-modal":"true",activatorProps:F({"aria-haspopup":"dialog","aria-expanded":String(d.value)},e.activatorProps)},t),{activator:n.activator,default:function(){for(var l,c=arguments.length,v=new Array(c),s=0;s<c;s++)v[s]=arguments[s];return f(ue,{root:!0},{default:()=>[(l=n.default)==null?void 0:l.call(n,...v)]})}})}),j({},a)}});const _e=X({name:"VTextarea",directives:{Intersect:ce},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...Pe(),...Ce()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,g){let{attrs:n,emit:d,slots:t}=g;const a=Y(e,"modelValue"),{isFocused:i,focus:r,blur:l}=Fe(e),c=k(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),v=k(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function s(o,x){var y,p;!e.autofocus||!o||(y=x[0].target)==null||(p=y.focus)==null||p.call(y)}const m=C(),u=C(),b=C(""),h=C(),E=k(()=>i.value||e.persistentPlaceholder),R=k(()=>e.messages.length?e.messages:E.value||e.persistentHint?e.hint:"");function A(){if(h.value!==document.activeElement){var o;(o=h.value)==null||o.focus()}i.value||r()}function Q(o){A(),d("click:control",o)}function J(o){o.stopPropagation(),A(),N(()=>{a.value="",he(e["onClick:clear"],o)})}function K(o){a.value=o.target.value}const w=C();function P(){!e.autoGrow||N(()=>{if(!w.value||!u.value)return;const o=getComputedStyle(w.value),x=getComputedStyle(u.value.$el),y=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),p=w.value.scrollHeight,D=parseFloat(o.lineHeight),T=Math.max(parseFloat(e.rows)*D+y,parseFloat(x.getPropertyValue("--v-input-control-height"))),_=parseFloat(e.maxRows)*D+y||1/0;b.value=xe(ye(p!=null?p:0,T,_))})}de(P),V(a,P),V(()=>e.rows,P),V(()=>e.maxRows,P),V(()=>e.density,P);let $;return V(w,o=>{if(o)$=new ResizeObserver(P),$.observe(w.value);else{var x;(x=$)==null||x.disconnect()}}),fe(()=>{var o;(o=$)==null||o.disconnect()}),W(()=>{const o=!!(t.counter||e.counter||e.counterValue),x=!!(o||t.details),[y,p]=ve(n),[{modelValue:D,...T}]=Se(e),[_]=Ee(e);return f(Ie,F({ref:m,modelValue:a.value,"onUpdate:modelValue":S=>a.value=S,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},y,T,{focused:i.value,messages:R.value}),{...t,default:S=>{let{isDisabled:B,isDirty:O,isReadonly:Z,isValid:ee}=S;return f($e,F({ref:u,style:{"--v-textarea-control-height":b.value},"onClick:control":Q,"onClick:clear":J,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},_,{active:E.value||O.value,dirty:O.value||e.dirty,focused:i.value,error:ee.value===!1}),{...t,default:te=>{let{props:{class:q,...ae}}=te;return f(H,null,[e.prefix&&f("span",{class:"v-text-field__prefix"},[e.prefix]),M(f("textarea",F({ref:h,class:q,value:a.value,onInput:K,autofocus:e.autofocus,readonly:Z.value,disabled:B.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:A,onBlur:l},ae,p),null),[[me("intersect"),{handler:s},null,{once:!0}]]),e.autoGrow&&M(f("textarea",{class:[q,"v-textarea__sizer"],"onUpdate:modelValue":ne=>a.value=ne,ref:w,readonly:!0,"aria-hidden":"true"},null),[[ge,a.value]]),e.suffix&&f("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:x?S=>{var B;return f(H,null,[(B=t.details)==null?void 0:B.call(t,S),o&&f(H,null,[f("span",null,null),f(Be,{active:e.persistentCounter||i.value,value:c.value,max:v.value},t.counter)])])}:void 0})}),j({},m,u,h)}});export{Te as V,_e as a,ke as b};
